```
package algo;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.Comparator;
import java.util.List;

class Solution {
    public int[] solution(String s) {
        // 갯수가 작은 {}부터 하나씩 뒤에 추가한다
        // {2} , {2,1},{1,2,3} 이면 2 - 1 - 3추가

        s = s.replace("{{", "{");
        s = s.replace("}}", "}");
        s = s.replace("},{", " ");
        s = s.replace("{", "");
        s = s.replace("}", "");

        String[] splits = s.split(" ");
        Arrays.sort(splits, new Comparator<String>() {
            @Override
            public int compare(String o1, String o2) {
                return o1.length() < o2.length() ? -1 : 1;
            }
        });


        List<Integer> list = new ArrayList<>();
        for (int i = 0; i < splits.length; i++) {
            String target = splits[i];
            String[] split = target.split(",");
            for (int j = 0; j < split.length; j++) {
                int number = Integer.parseInt(split[j]);
                if (!list.contains(number)) {
                    list.add(number);
                }
            }
        }

        int[] answer = new int[list.size()];
        for (int i = 0; i < list.size(); i++) {
            answer[i] = list.get(i);
        }

        return answer;
    }
}
```
